# 静音抑制（VAD）

### 简介

语音活动检测(Voice Activity Detection,VAD)又称语音端点检测,语音边界检测。 是一项用于语音处理的技术，目的是检测语音信号是否存在。VAD技术主要用于语音编码和语音识别。它可以简化语音处理，也可用于在音频会话期间去除非语音片段：可以在IP电话应用中避免对静音数据包的编码和传输，节省计算时间和带宽。

### 应用

在用户没有讲话时，就没有语音分组的发送，从而可以进一步降低语音比特率。当用户的语音信号能量低于一定门限值时就认为是静默状态，也不发送语音分组。当检测到突发的活动声音时才生成语音信号，并加以传输。运用这种技术能够获得大于50%的带宽。



VAD 低于设定的门限值时就不发语音给对方，取而代之的是发 SID(Silence Insertion Descriptor) 包给对方；接收端收到 SID 后就会做 CNG ，产生舒适噪声。

### VAD设计

1. 首先是一个降噪过程，如通过*spectral subtraction*
2. 然后对输入信号的一个区块提取特征。
3. 最后使用一个分类器对这个区块进行分类，确定是或不是语音信号。通常这个分类过程是将计算的值与一个阈值进行比较。

在上面这个过程中通常会有一些反馈过程，这样可以使用VAD系统的决策来更好的估计和去除噪声，或者适应性的调整阈值。这些反馈操作可以提升VAD系统对非稳态噪声的性能，比如噪声的差异很大时。

一些方法在帧的基础上使用瞬时特征计算语音与非语言信号的距离，包括光谱斜率(Spectral_slope)、相关系数(correlation coefficients)、对数似然比(log likelihood ratio)、倒谱系数(cepstral)、加权倒谱系(weighted cepstral)和修改后的距离函数。

对于任何一个VAD算法，都要在将语音检测为噪声或将噪声检测为语音(假阳性和假阴性)之间寻求妥协。移动电话中的VAD系统必须能够在不同类型的声学噪声的环境下检测出语音。在这些比较困难的环境下，VAD算法应该在不确定是否为语音的时输出是语音，以避免丢失真正的语音信号。这样的环境中VAD的难点在于遇到的非常低的信噪比。当部分语音信号被噪声淹没时，使用一些简单的方法可能就无法处理。

### 难点

VAD（Voice Activity Detection）算法的作用是检测语音，在远场语音交互场景中，VAD面临着两个难题：

1. 可以成功检测到最低能量的语音(灵敏度)。
2. 如何在多噪环境下成功检测（漏检率和虚检率）。

漏检反应的是原本是语音但是没有检测出来，而虚检率反应的是不是语音信号而被检测成语音信号的概率。相对而言漏检是不可接受的，而虚检可以通过后端的ASR和NLP算法进一步过滤，但是虚检会带来系统资源利用率上升，随之系统的功耗和发热会进一步增加，而这会上升为可移动和随声携带设备的一个难题。

### 注意

1. 是背景噪声问题，即如何在较大的背景噪声中检测静音
2. 前后沿剪切问题。所谓前后沿剪切就是还原语音时，由于从实际讲话开始到检测到语音之间有一定的判断门限和时延，有时语音波形的开始和结束部分会作为静音被丢掉，还原的语音会出现变化，因此**需要在突发语音分组前面或后面增加一个语音分组进行平滑**以解决这一问题。